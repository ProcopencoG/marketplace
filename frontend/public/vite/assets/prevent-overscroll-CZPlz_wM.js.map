{"version":3,"file":"prevent-overscroll-CZPlz_wM.js","sources":["../../../app/frontend/entrypoints/prevent-overscroll.js"],"sourcesContent":["// Prevent iOS rubber-banding / overscroll bounce\r\n// This script actively prevents scroll events from propagating beyond content boundaries\r\n\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const appRoot = document.getElementById('app-root');\r\n  \r\n  if (!appRoot) {\r\n    console.warn('app-root not found, overscroll prevention disabled');\r\n    return;\r\n  }\r\n\r\n  let lastY = 0;\r\n\r\n  // Prevent touchmove when at scroll boundaries\r\n  appRoot.addEventListener('touchstart', (e) => {\r\n    lastY = e.touches[0].clientY;\r\n  }, { passive: false });\r\n\r\n  appRoot.addEventListener('touchmove', (e) => {\r\n    const currentY = e.touches[0].clientY;\r\n    const scrollTop = appRoot.scrollTop;\r\n    const scrollHeight = appRoot.scrollHeight;\r\n    const clientHeight = appRoot.clientHeight;\r\n    \r\n    const isAtTop = scrollTop <= 0;\r\n    const isAtBottom = scrollTop + clientHeight >= scrollHeight;\r\n    \r\n    const isScrollingUp = currentY > lastY;\r\n    const isScrollingDown = currentY < lastY;\r\n\r\n    // Prevent overscroll at top\r\n    if (isAtTop && isScrollingUp) {\r\n      e.preventDefault();\r\n    }\r\n    \r\n    // Prevent overscroll at bottom\r\n    if (isAtBottom && isScrollingDown) {\r\n      e.preventDefault();\r\n    }\r\n\r\n    lastY = currentY;\r\n  }, { passive: false });\r\n\r\n  // Additional prevention for wheel events (desktop)\r\n  appRoot.addEventListener('wheel', (e) => {\r\n    const scrollTop = appRoot.scrollTop;\r\n    const scrollHeight = appRoot.scrollHeight;\r\n    const clientHeight = appRoot.clientHeight;\r\n    \r\n    const isAtTop = scrollTop <= 0;\r\n    const isAtBottom = scrollTop + clientHeight >= scrollHeight;\r\n    \r\n    if ((isAtTop && e.deltaY < 0) || (isAtBottom && e.deltaY > 0)) {\r\n      e.preventDefault();\r\n    }\r\n  }, { passive: false });\r\n});\r\n"],"names":["appRoot","lastY","currentY","scrollTop","scrollHeight","clientHeight","isAtTop","isAtBottom","isScrollingUp","isScrollingDown"],"mappings":"AAGA,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMA,EAAU,SAAS,eAAe,UAAU,EAElD,GAAI,CAACA,EAAS,CACZ,QAAQ,KAAK,oDAAoD,EACjE,MACF,CAEA,IAAIC,EAAQ,EAGZD,EAAQ,iBAAiB,aAAe,GAAM,CAC5CC,EAAQ,EAAE,QAAQ,CAAC,EAAE,OACvB,EAAG,CAAE,QAAS,EAAK,CAAE,EAErBD,EAAQ,iBAAiB,YAAc,GAAM,CAC3C,MAAME,EAAW,EAAE,QAAQ,CAAC,EAAE,QACxBC,EAAYH,EAAQ,UACpBI,EAAeJ,EAAQ,aACvBK,EAAeL,EAAQ,aAEvBM,EAAUH,GAAa,EACvBI,EAAaJ,EAAYE,GAAgBD,EAEzCI,EAAgBN,EAAWD,EAC3BQ,EAAkBP,EAAWD,EAG/BK,GAAWE,GACb,EAAE,eAAc,EAIdD,GAAcE,GAChB,EAAE,eAAc,EAGlBR,EAAQC,CACV,EAAG,CAAE,QAAS,EAAK,CAAE,EAGrBF,EAAQ,iBAAiB,QAAU,GAAM,CACvC,MAAMG,EAAYH,EAAQ,UACpBI,EAAeJ,EAAQ,aACvBK,EAAeL,EAAQ,aAEvBM,EAAUH,GAAa,EACvBI,EAAaJ,EAAYE,GAAgBD,GAE1CE,GAAW,EAAE,OAAS,GAAOC,GAAc,EAAE,OAAS,IACzD,EAAE,eAAc,CAEpB,EAAG,CAAE,QAAS,EAAK,CAAE,CACvB,CAAC"}